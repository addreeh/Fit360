<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.4.2/zxcvbn.js"></script>

<div class="min-w-screen h-1/3 bg-black flex items-center justify-center px-5 pt-20">
  <div class="bg-[#242424] text-gray-500 rounded-3xl shadow-xl w-full overflow-hidden border border-[#d6fd51]"
    style="max-width:1000px">
    <div class="md:flex w-full">
      <div class="w-1/2 h-full">
        <img class="h-full" src="assets/register.webp">
      </div>
      <div class="w-full md:w-1/2 py-3 px-5 md:px-10">
        <div class="text-center mb-10">
          <h1 class="font-bold text-4xl text-white">REGISTER</h1>
          <p class="text-gray-400">Enter your information to register</p>
        </div>
        <div>
          <form (ngSubmit)="submit()" #form="ngForm">
            <div class="flex -mx-3">
              <!-- First name -->
              <div class="w-1/2 px-3 mb-5">
                <label for="" class="text-xs font-semibold px-1 text-gray-400">First name</label>
                <div class="flex">
                  <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                      class="mdi mdi-account-outline text-gray-400 text-lg"></i></div>
                  <input required type="text" minlength="2" maxlength="50" pattern="[a-zA-Z\s]+"
                    class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#d6fd51]"
                    placeholder="John" name="name" [(ngModel)]="user.name" #name="ngModel">
                </div>
                <div *ngIf="name && name.invalid && (name.dirty || name.touched)" class="text-red-500 text-xs mt-1">
                  <div *ngIf="name.errors && name.errors['required']">First name is required.</div>
                  <div *ngIf="name.errors && name.errors['pattern']">Invalid characters. Only letters and spaces are
                    allowed.</div>
                  <div *ngIf="name.errors && (name.errors['minlength'] || name.errors['maxlength'])">First name must be
                    between 2 and 50 characters.</div>
                </div>
              </div>
              <!-- Last name -->
              <div class="w-1/2 px-3 mb-5">
                <label for="" class="text-xs font-semibold px-1 text-gray-400">Last name</label>
                <div class="flex">
                  <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                      class="mdi mdi-account-outline text-gray-400 text-lg"></i></div>
                  <input required type="text" minlength="2" maxlength="50" pattern="[a-zA-Z\s]+"
                    class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#d6fd51]"
                    placeholder="Smith" name="surname" [(ngModel)]="user.surname" #surname="ngModel">
                </div>
                <div *ngIf="surname && surname.invalid && (surname.dirty || surname.touched)"
                  class="text-red-500 text-xs mt-1">
                  <div *ngIf="surname.errors && surname.errors['required']">Last name is required.</div>
                  <div *ngIf="surname.errors && surname.errors['pattern']">Invalid characters. Only letters and spaces
                    are allowed.</div>
                  <div *ngIf="surname.errors && (surname.errors['minlength'] || surname.errors['maxlength'])">Last name
                    must be between 2 and 50 characters.</div>
                </div>
              </div>
            </div>
            <!-- Username -->
            <div class="flex -mx-3">
              <div class="w-full px-3 mb-5">
                <label for="" class="text-xs font-semibold px-1 text-gray-400">Username</label>
                <div class="flex">
                  <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                      class="mdi mdi-account-outline text-gray-400 text-lg"></i></div>
                  <input required type="text" minlength="6" maxlength="20" pattern="[a-zA-Z0-9]+"
                    class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#d6fd51]"
                    placeholder="johnsito" name="username" [(ngModel)]="user.username" #username="ngModel">
                </div>
                <div *ngIf="username && username.invalid && (username.dirty || username.touched)"
                  class="text-red-500 text-xs mt-1">
                  <div *ngIf="username.errors && username.errors['required']">Username is required.</div>
                  <div *ngIf="username.errors && username.errors['pattern']">Invalid characters. Only letters and
                    numbers are allowed.</div>
                  <div *ngIf="username.errors && (username.errors['minlength'] || username.errors['maxlength'])">
                    Username
                    must be between 6 and 20 characters.</div>
                </div>
              </div>
            </div>
            <!-- Email -->
            <div class="flex -mx-3">
              <div class="w-full px-3 mb-5">
                <label for="" class="text-xs font-semibold px-1 text-gray-400">Email</label>
                <div class="flex">
                  <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                      class="mdi mdi-email-outline text-gray-400 text-lg"></i></div>
                  <input required type="email"
                    class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#d6fd51]"
                    placeholder="johnsmith@example.com" name="email" [(ngModel)]="user.email" #email="ngModel">
                </div>
                <div *ngIf="email && email.invalid && (email.dirty || email.touched)" class="text-red-500 text-xs mt-1">
                  <div *ngIf="email.errors && email.errors['required']">Email is required.</div>
                  <div *ngIf="email.errors && email.errors['email']">Invalid email format.</div>
                </div>
              </div>
            </div>
            <!-- Password -->
            <div class="flex -mx-3">
              <div class="w-full px-3 mb-12">
                <label for="" class="text-xs font-semibold px-1 text-gray-400">Password</label>
                <div class="flex">
                  <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i
                      class="mdi mdi-lock-outline text-gray-400 text-lg"></i></div>
                  <input required type="password" minlength="8"
                    class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-[#d6fd51]"
                    placeholder="************" name="password" [(ngModel)]="user.password" #password="ngModel">
                </div>
                <div *ngIf="password && password.invalid && (password.dirty || password.touched)"
                  class="text-red-500 text-xs mt-1">
                  <div *ngIf="password.errors && password.errors['required']">Password is required.</div>
                  <div *ngIf="password.errors && password.errors['minlength']">Password must be at least 8 characters
                    long.</div>
                </div>
              </div>
            </div>
            <!-- Submit button -->
            <div class="flex -mx-3">
              <div class="w-full px-3 mb-5">
                <button type="submit" [disabled]="form.invalid"
                  class="block w-full max-w-xs mx-auto rounded-lg px-3 py-3 font-semibold bg-[#d6fd51] text-black hover:bg-[#242424] hover:text-white hover:border border-[#d6fd51]">REGISTER
                  NOW</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<app-error *ngIf="showErrorAlert" [error]="'There are already an user with this credentials.'" />